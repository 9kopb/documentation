<!DOCTYPE html>
<html lang="en">
<head>
  <title>BlockCypher | Documentation</title>
  <link rel="shortcut icon" type="image/x-icon" href="favicon.ico" />
  <link rel="stylesheet" href="/site/css/bootstrap.min.css" />
  <link rel="stylesheet" href="/site/css/bootstrap-theme.min.css" />
  <link rel="stylesheet" href="/site/css/prism.css"/>
  <link rel="stylesheet" href="/site/css/site.css"/>
</head>
<body>
  <div class="top-menu">
    <a href="http://dev.blockcypher.com">&lt;&lt; Back</a>
  </div>
  <div class="logo-title">
    <a href="http://www.blockcypher.com"><img src="/site/img/logo-small.png"/></a>
    <span>WebHooks</span>
  </div>

  <p>This sample starts a simple logging web server (ie node.js for javascript) and registers a WebHook for all unconfirmed transactions. This will print all the transactions on the Bitcoin network right as they are broadcasted in near-realtime.</p>
  <p>Because the WebHook requires your web server to be reachable from the outside internet, make sure that your IP address in the sample is correct and that an open port is used.</p>

  <ul class="nav nav-tabs" >
    <li class="active"><a href="#js-1-1" data-toggle="tab">Javascript</a></li>
    <li><a href="#Java-1-1" data-toggle="tab">Java</a></li>
    <li><a href="#Ruby-1-1" data-toggle="tab">Ruby</a></li>
    <li><a href="#Python-1-1" data-toggle="tab">Python</a></li>
  </ul>

  <div class="tab-content">
    <div class="tab-pane active" id="js-1-1">
      <p>Using node.js:</p>
      <pre data-src="/samples/nodejs-webhook.js"></pre>
      <hr/>
    </div>

    <div class="tab-pane" id="Java-1-1">
      <p>Creating a Webhook is very easy:</p>
      <pre class="language-java" data-src="/samples/create_webhook.java"></pre>

      <p>In order to fully test our Webhook we need a server running which will receive the POST events from BlockCypher.</p>
      <p>For this example we are using:</p>
      <p>- <code>org.glassfish.jersey.core:jersey-server:2.9</code> (>2.0, jdk1.7+)</p>
      <p>- A simple container <code>org.glassfish.jersey.containers:jersey-container-jdk-http:2.9</code> (you can use any server you like)</p>

      <p>We are registering <code>com.blockcypher.model.*</code> and we are asking BlockCypher to publish on http://serverHost:port/ModelObject@Path (ie for Transaction events: http://serverHost:port/txs/)</p>
      <p>Every time there is a call back from BlockCypher the <code>POST</code> of the ModelObject will be called (here we plug an interceptor on it in order to collect the event)</p>
      <p>This sample is available on github: <a href="https://github.com/blockcypher/java-client/blob/master/src/test/java/com/blockcypher/service/WebhookServiceTest.java">WebhookServiceTest.java</a></p>
      <pre class="language-java" data-src="/samples/webhook_with_server.java"></pre>
      <hr/>
    </div>

    <div class="tab-pane" id="Ruby-1-1">Coming Soon...<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><hr/></div>

    <div class="tab-pane" id="Python-1-1">Coming Soon...<br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><hr/></div>
  </div>
  
  <p></p>
  <p style="text-align: center;"><small>Â© 2014 BlockCypher</small></p>

  <script src="/site/js/prism.js"></script>
  <script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
  <script src="/site/js/bootstrap.min.js"></script>
</body>
</html>
